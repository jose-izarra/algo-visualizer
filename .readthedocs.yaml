# .readthedocs.yaml
# Read the Docs configuration file
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details

# Required
version: 2

build:
  os: "ubuntu-22.04"
  tools:
    python: "mambaforge-22.9" 

  commands:
    - mkdir build
    - mamba env create --file environment.yml
    - cd build && mamba run -n visualizer cmake .. && mamba run -n visualizer cmake --build .
    - mkdir -p $READTHEDOCS_OUTPUT/
    - mv ./build/docs/sphinx/ $READTHEDOCS_OUTPUT/html

conda:
  environment: environment.yml  
